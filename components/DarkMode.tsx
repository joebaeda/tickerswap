import { useState, useEffect } from 'react';

const DarkModeToggle: React.FC = () => {
    const [isDarkMode, setIsDarkMode] = useState<boolean>(false);

    useEffect(() => {
        const root = window.document.documentElement;
        const theme = localStorage.getItem('theme');
        if (theme === 'light') {
            root.classList.add('dark');
            setIsDarkMode(true);
        } else {
            root.classList.add('dark');
            setIsDarkMode(true);
        }
    }, []);

    const toggleDarkMode = () => {
        const root = window.document.documentElement;
        if (isDarkMode) {
            root.classList.remove('dark');
            localStorage.setItem('theme', 'light');
        } else {
            root.classList.add('dark');
            localStorage.setItem('theme', 'dark');
        }
        setIsDarkMode(!isDarkMode);
    };

    return (
        <div className="absolute top-[5.3%] right-3">
            <button
                onClick={toggleDarkMode}
                className="animate-gradient-bg p-2 rounded-full bg-gradient-to-r from-orange-500 to-pink-800 hover:from-pink-800 hover:to-orange-500"
            >
                {isDarkMode ?
                    (<svg width="35" height="35" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 478.583 478.584">
                        <path fill="#fff" d="M361.292 186.499c-23.212-39.083-62.383-54.142-105.693-44.476-15.962 3.562-9.201 28.033 6.749 24.471 41.492-9.262 73.925 14.81 86.98 54.172 9.928 29.922-5.027 60.491-25.375 81.859-39.826 41.833-106.886 45.402-149.239 6.221-29.582-27.375-39.517-72.231-29.627-110.443 11.402-44.074 51.255-60.999 93.587-55.467 16.188 2.115 15.985-23.29 0-25.382C104.189 99.879 79.668 278.39 177.19 342.651c63.172 41.63 147.774 12.056 185.534-49.062 20.714-33.535 18.21-73.989-1.432-107.09M99.479 281.727c-.947-6.683-6.172-13.447-14.325-13.447-1.468 0-2.986.224-4.509.671-20.279 5.859-38.214 12.116-54.817 19.123-8.549 3.605-10.976 12.096-9.6 18.911 1.398 6.926 6.459 11.588 12.596 11.588h.005c1.861 0 3.801-.427 5.761-1.249 16.379-6.917 34.122-13.102 54.246-18.921 8.63-2.499 11.568-10.177 10.643-16.676M38.859 78.668c23.925 15.851 49.769 31.907 83.812 52.062 2.496 1.478 5.091 2.224 7.706 2.229 6.64 0 12.626-4.913 14.548-11.943 1.836-6.703-.769-13.088-6.812-16.661-33.989-20.126-59.771-36.142-83.581-51.925-2.584-1.711-5.289-2.584-8.028-2.584-6.167 0-11.877 4.669-13.893 11.362-2.06 6.847.332 13.54 6.248 17.46m216.232 303.059c-4.331 0-8.333 1.62-10.973 4.443-2.531 2.712-3.732 6.357-3.453 10.537 1.239 18.605 2.486 37.211 3.806 55.802.688 9.607 8.65 14.625 16.171 14.625 4.336 0 8.333-1.625 10.963-4.449 2.524-2.711 3.707-6.357 3.407-10.536-1.32-18.596-2.559-37.187-3.798-55.792-.639-9.608-8.596-14.63-16.123-14.63m-111.303-33.104c-5.21 0-9.676 2.539-12.588 7.15-21.127 33.484-42.64 66.48-64.65 100.147-3.047 4.662-3.379 9.709-.942 14.224 2.729 5.053 8.569 8.439 14.538 8.439h.005c5.195 0 9.684-2.493 12.646-7.022 21.965-33.586 43.44-66.521 64.691-100.214 2.976-4.708 3.24-9.815.744-14.346-2.76-5.006-8.574-8.378-14.444-8.378m205.17-221.361c5.19 0 9.685-2.465 12.67-6.941 7.815-11.725 15.355-23.285 21.714-35.77 2.554-5.015 2.392-10.328-.447-14.959-2.996-4.885-8.47-8.041-13.949-8.041-5.175 0-9.598 2.856-12.131 7.838-6.221 12.203-13.675 23.638-21.409 35.244-3.082 4.628-3.453 9.65-1.041 14.155 2.706 5.062 8.571 8.469 14.593 8.474m100.178 262.072c-22.419-17.85-41.843-31.824-61.134-43.991-2.549-1.614-5.205-2.427-7.901-2.427-6.373 0-12.207 4.778-14.183 11.618-1.96 6.784.533 13.33 6.505 17.103 18.362 11.588 36.531 24.567 55.538 39.7 2.925 2.325 6.348 3.555 9.896 3.555h.006c6.967 0 13.654-4.662 15.894-11.07 1.884-5.374.194-10.644-4.621-14.488M239.474 99.317c4.352 0 8.32-1.627 10.88-4.461 2.458-2.719 3.529-6.365 3.103-10.539-2.407-23.592-3.823-47.337-5.067-69.632C247.85 5.045 239.941 0 232.408 0c-4.326 0-8.34 1.617-11.009 4.44-2.557 2.709-3.791 6.351-3.562 10.529 1.25 22.401 2.674 46.248 5.085 69.871.968 9.501 9.06 14.477 16.552 14.477m207.621 105.689c-8.871 1.178-35.079 1.241-40.243 1.246-9.76 0-14.868 7.691-14.868 15.288.005 7.586 5.108 15.277 14.863 15.277h.005c5.226 0 31.747-.073 40.929-1.29 9.069-1.206 14.935-7.196 14.935-15.262-.001-7.548-7.11-16.435-15.621-15.259" />
                    </svg>
                    ) : (
                        <svg width="35" height="35" viewBox="0 0 64 64" xmlns="http://www.w3.org/2000/svg">
                            <path fill="#fff" d="M57.92 32.3c-.19-6.22-.88-11.19-8.13-18.25S39 6.68 34 7c-13.9 1-17.53 4.34-21.9 9.41S6 27.18 6.07 30.55 7.82 42.49 12.36 48s8.81 8 18.28 9 16.84-4.22 20.9-8.19a22.62 22.62 0 0 0 6.38-16.51M54 23c.18 0 .78 1.78 1.25 3.66a6.6 6.6 0 0 1 .25 2.81 5.7 5.7 0 0 1-1.91-2.85c-.45-1.76.17-3.62.41-3.62m.5 18.28c-1.71 3.43-6.5 9.52-10.8 11.15S31.82 57.49 24 53.86 13.86 46.8 11 41 7.89 29.36 9.29 25.15s5.91-9.75 9.57-12.25 8.53-3.35 11.71-3.66c4.19-.41 8.29-.53 11.88 1.31s8.94 8 9.81 9.06a7.8 7.8 0 0 1 1.28 2.19s-1.75 1.2-1.09 4.25 1.81 4.31 2.31 4.72a4.3 4.3 0 0 0 1.1.63s.31 6.43-1.38 9.87zM49 18.58c.31.22.16-.37.22-.59a10.6 10.6 0 0 0-2.78-2.34.78.78 0 0 0-.25.68c.04.16 2.48 2.03 2.81 2.25m-2.66.28s-.31.57-.21.69 3.5 3.06 3.5 3.06a.88.88 0 0 0 .18-.59 25.4 25.4 0 0 0-3.49-3.16zM49 24.71c.09 0 .19-.41.19-.69a24 24 0 0 0-3.35-2.78c-.18-.09-.43.62-.5.91s3.55 2.59 3.66 2.56m-7.22-4.44A2.47 2.47 0 0 0 38.29 18c-2.62 1-2.4 4.5-.84 5.28a3.26 3.26 0 0 0 4.31-3.01zm-3.24-1.49a1.71 1.71 0 0 1 2.4 1.6 2.26 2.26 0 0 1-3 2.05c-1.08-.54-1.24-2.94.58-3.65zm-24.9 8.74c.31 0 .09-.75.59-2.62a8.8 8.8 0 0 1 2.06-3.47c.1-.1-1-.67-1.09-.63-.34.13-1.28 2-1.81 3.19a11.2 11.2 0 0 0-.82 3.34c.07.19.75.22 1.07.19M32 26.4c-.62-5-4.86-6.34-7.44-5.69-7.56 1.9-5.74 8.29-1.7 10.72s9.78-.07 9.14-5.03m-8.23 3.43c-2.73-1.67-4-6 1.16-7.26a4.16 4.16 0 0 1 5 3.85c.47 3.37-3.42 5.08-6.15 3.41zM17 35.43c-.06-2-1.6-2.31-2.15-2.07-2.94 1.29-2.16 4.54-.66 4.91s2.88-.81 2.81-2.84m-2.59 2.06a1.65 1.65 0 0 1 .62-3c.63-.2 1.35.53 1.25 1.44s-.89 1.93-1.86 1.56zM30 39.9a2.32 2.32 0 0 0 .72 4.46 2.5 2.5 0 0 0 2.41-3.25c-.31-1.5-1.71-1.95-3.13-1.21m.22 3.5c-1-.5-1.09-1.82.22-2.6a1.21 1.21 0 0 1 1.94 1.06 1.57 1.57 0 0 1-2.12 1.54zm-8.75.43c-.78-.62-.62-1.18-.75-1.31a3 3 0 0 0-.78.09c-.22.1.25 1.13.75 1.6a4.1 4.1 0 0 0 1.5.94c.22 0 .28-.25.34-.47s-.24-.22-1.02-.85zM20 44.9a6.4 6.4 0 0 1-1.4-2.13s-.69 0-.85.19.47 1.15 1.07 1.84a14.5 14.5 0 0 0 2.12 2c.22.09.5-.22.59-.44S21 45.9 20 44.9m-1.43 1a20 20 0 0 1-1.88-2.88 3.8 3.8 0 0 0-.91.35c-.18.15.32 1 1.29 2.09s2.31 2.37 2.62 2.34a.47.47 0 0 0 .47-.37c.1-.16-.46-.28-1.55-1.5zm20.5 1.5c-2.63.15-1.79 2.78-.91 3.25s2.25.62 2.62-1-.23-2.31-1.67-2.22zm.93 2.28a.87.87 0 0 1-1.53 0 1 1 0 0 1 .72-1.47 1 1 0 0 1 .81 1.47m4.84-14.16c-3.46.81-4.31 3.16-3.25 5.59s2 2.6 3.94 2.19 4.41-2.28 3.72-4.94-1.92-3.43-4.43-2.84zm2.1 6.25c-1.6 1-2.35 1.25-3.88-.16s-1.87-4.09 1.5-5.15c.83-.26 2.63-.85 3.35 1.12s.6 3.19-.99 4.19zM52.76 32c-.22 0-.5.47-.53.69a17 17 0 0 0 2.41 2.37c.12.06.28-.31.28-.56a10.6 10.6 0 0 0-2.16-2.5m-2 2.12a37 37 0 0 0 3.32 3.47c.12.07.18-.31.21-.59s-3-3.3-3-3.5-.43.5-.5.61zm.38 2.29c-.13 0-.63.62-.63.71s2.88 2.94 3 3 .32-.46.32-.68a22 22 0 0 0-2.66-3.04z" />
                        </svg>
                    )}
            </button>
        </div>
    );
};

export default DarkModeToggle;
